if (typeof localStorage === "undefined" || localStorage === null) {
  var LocalStorage = require('node-localstorage').LocalStorage;
  var localStorage = new LocalStorage('./scratch');
}

var TREE_KEY = 'tree';
var UPDATED_AT_KEY = 'updated_at'

module.exports.getTree = function() {
  return JSON.parse(localStorage.getItem(TREE_KEY)) || {};
}

module.exports.storeTree = function(tree) {
  localStorage.setItem(TREE_KEY, JSON.stringify(tree))
}

module.exports.getUpdatedAt = function() {
  localStorage.getItem(UPDATED_AT_KEY);
}

module.exports.setUpdatedAt = function(value) {
  localStorage.setItem(UPDATED_AT_KEY, value);
}